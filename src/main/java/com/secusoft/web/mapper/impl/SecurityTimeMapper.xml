<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.secusoft.web.mapper.SecurityTimeMapper">
    <resultMap type="com.secusoft.web.model.SecurityTimeBean" id="result_SecurityTime_Map">

        <id property="id" column="id"/>

        <result property="taskId" column="task_id"/>

        <result property="beginTime" column="begin_time"/>

        <result property="endTime" column="end_time"/>

        <result property="timeStatus" column="time_status"/>

    </resultMap>

    <select id="selectTimeByTaskId" resultType="com.secusoft.web.model.SecurityTimeBean">
        SELECT id,task_id,begin_time,end_time,time_status
         FROM `vi`.`vi_security_time`
         where task_id = #{taskId}
         Order by begin_time
    </select>

    <update id="updateTimeById" parameterType="securityTimeBean">
        update vi_security_time
        <set>
            <if test="beginTime != null">
                begin_time=#{beginTime},
            </if>
            <if test="endTime != null">
                end_time=#{endTime}
            </if>
            <if test="timeStatus != null">
                time_status=#{timeStatus},
            </if>
        </set>
        <where>
            <if test="id != null">
                id=#{id}
            </if>
        </where>

    </update>

    <delete id="deleteTimeByTaskId" parameterType="securityTimeBean">
          delete from vi_security_time
          where task_id=#{taskId}
    </delete>
</mapper>