<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.secusoft.web.mapper.SyncZdryLogMapper">

    <select id="selectByBean" parameterType="com.secusoft.web.model.SyncZdryLogBean" resultType="com.secusoft.web.model.SyncZdryLogBean">
        select * from sync_zdry_log
        <where>
            <if test="tableName">
              and table_name=#{tableName}
            </if>
        </where>
    </select>

    <insert id="insertSyncZdryLog" parameterType="com.secusoft.web.model.SyncZdryLogBean"  keyProperty="id" useGeneratedKeys="true">
        insert into sync_zdry_log (table_name,sync_count,sync_edit_count,last_sync_time,last_end_time)values
        (#{tableName},#{syncCount},#{syncEditCount},#{lastSyncTime},#{lastEndTime})
    </insert>

    <update id="updateSyncZdryLog" parameterType="com.secusoft.web.model.SyncZdryLogBean">
        update sync_zdry_log
        <set>
            <if test="tableName!=null">
                table_name=#{tableName},
            </if>
            <if test="syncCount!=null">
                sync_count=#{syncCount},
            </if>
            <if test="syncEditCount!=null">
                sync_edit_count=#{syncEditCount},
            </if>
            <if test="lastSyncTime!=null">
                last_sync_time=#{lastSyncTime},
            </if>
            <if test="lastEndTime!=null">
                last_end_time=#{lastEndTime},
            </if>
        </set>
        where id=#{id}
    </update>
</mapper>