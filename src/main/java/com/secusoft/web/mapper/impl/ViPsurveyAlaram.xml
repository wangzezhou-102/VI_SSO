<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.secusoft.web.mapper.ViPsurveyAlarmMapper">
    <select id="selectIdNumberBytaskId" resultType="java.lang.Integer">
      select count(id)
      from vi_psurvey_alaram
      <where>
          date(gmt_create)  = curdate()
          <if test="taskIds!=null">
              and task_id in
              <foreach collection="taskIds" index="index" item="taskId" open="(" separator="," close=")">
                  #{taskId}
              </foreach>
          </if>
      </where>
    </select>
</mapper>